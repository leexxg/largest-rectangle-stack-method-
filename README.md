
find largest rectangle in histogram on python (stack method)<br>
Вследствие отстутствия в рунете внятного разъяснения данной темы - "подсчёт самого большого прямоугольника в гистограмме", при помощи подробного разъяснения полученного из данного видео: https://www.youtube.com/watch?v=VNbkzsnllsU разберём и реализуем его на языке python(файл в папке find rectangle in histogram(RU).py).<br>
для примера используем смешанный комплексный ряд [2,1,4,5,1,3,3],чтобы включить основные особенности расчета.<br>

![1.jpg](https://github.com/leexxg/largest-rectangle-stack-method-/blob/master/1.jpg)
<br>*На рис.1: P(position)-индекс для столбца, нумеруем начиная с нуля, С(count bars)-количество клеток в стобце*
<br>Наш изначальный стек в нулевом состоянии:<br>
| P | C |<br>
| 0 | 0 |<br><br>
1.P=0; C=2<br>
<b>заносим данные в стек, если значение С в стеке меньше чем С1</b>, т.е. в данном случае заносим значения P и С:<br>
| P | C |<br>
| 0 | 2 |<br><br>
<b>формула для подсчета количества прямоугольников:<br>
size=C(index+1-P), где index- номер столбца, используемого в данный момент</b>
![1.1.jpg](https://github.com/leexxg/largest-rectangle-stack-method-/blob/master/1.1.jpg)<br>
2.P=1; C=1, <b>т.к. С=1, меньше значения С в стеке(С=2), С=1 замещает С=2, а P-остаётся без изменений</b><br>
| P | C |<br>
| 0 | 1 |<br><br>
![1.2.jpg](https://github.com/leexxg/largest-rectangle-stack-method-/blob/master/1.2.jpg)<br>
3.P=2; C=4, т.к. С=4 больше С=1(из стека), то добавляем в стек P и С. Подсчет size,во время наполнения стека, можно не производить<br>
| P | C |<br>
| 0 | 1 |<br>
| 2 | 4 |<br><br>
4.P=3; C=5, аналогично шагу 3, наполняем стек<br>
| P | C |<br>
| 0 | 1 |<br>
| 2 | 4 |<br>
| 3 | 5 |<br><br>
5.P=4; C=1, здесь С=1 меньше С=5(верхушка стека), и мы должны приравнять бы, поставить С=1 на место С=5, ОДНАКО - в стеке уже есть С=1(выше), поэтому необходимо выполнить сброс стека до значения С=1, но до этого подсчитать size со всеми значениями стека, со значением index = 3(позиция P, перед текущей P=4)<br>
| P | C |<br>
| 0 | 1 |<br>
| 2 | 4 |<br>
| 3 | 5 |<br><br>
![1.5.jpg](https://github.com/leexxg/largest-rectangle-stack-method-/blob/master/1.5.jpg)<br>
6.P=5; C=3, состояние нашего стека после шага 5 - <br>
| P | C |<br>
| 0 | 1 |<br><br>
т.к. С=3 больше С=1, следовательно добавляем значения P и С в стек <br>
| P | C |<br>
| 0 | 1 |<br>
| 5 | 3 |<br><br>
Аналогично шагу 3,подсчет size,во время наполнения стека, можно не производить<br>
7.P=6; C=3, аналогично шагу 6, добавляем значения P и C в стек<br>
| P | C |<br>
| 0 | 1 |<br>
| 5 | 3 |<br>
| 6 | 3 |<br><br>
8. Все стобцы пройдены, теперь рабоатем с тем, что в стеке:<br>
index=6,т.к. он последний<br>
![1.7.jpg](https://github.com/leexxg/largest-rectangle-stack-method-/blob/master/1.7.jpg)<br>
*Последнее значение, равное 7 - это значение нижнего ряда по ширине*<br>
<b>Теперь из всех значений size, выбираем большее, и это size=8</b>
